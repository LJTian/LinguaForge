<!--index.wxml-->
<view class="page">
  <!-- 头部欢迎区域 -->
  <view class="header">
    <view class="header-title">欢迎来到 LinguaForge</view>
    <view class="header-subtitle" wx:if="{{userInfo}}">
      你好，{{userInfo.username}}！继续你的英语学习之旅吧
    </view>
    <view class="header-subtitle" wx:else>
      开始你的英语学习冒险之旅
    </view>
  </view>

  <!-- 用户统计信息 -->
  <view class="stats-grid" wx:if="{{userInfo}}">
    <view class="stat-card">
      <view class="stat-value">{{userInfo.level}}</view>
      <view class="stat-label">等级</view>
    </view>
    <view class="stat-card">
      <view class="stat-value">{{userInfo.experience}}</view>
      <view class="stat-label">经验值</view>
    </view>
    <view class="stat-card">
      <view class="stat-value">{{userInfo.coins}}</view>
      <view class="stat-label">金币</view>
    </view>
  </view>

  <!-- 快速开始游戏 -->
  <view class="card">
    <view class="card-title">🎮 快速开始</view>
    <view class="game-grid">
      <view class="game-card" bindtap="goToAdventure">
        <view class="game-icon">🗡️</view>
        <view class="game-name">冒险模式</view>
        <view class="game-desc">探索单词世界</view>
      </view>
      <view class="game-card" bindtap="goToDefense">
        <view class="game-icon">🛡️</view>
        <view class="game-name">防御模式</view>
        <view class="game-desc">守护你的城堡</view>
      </view>
    </view>
  </view>

  <!-- 学习进度 -->
  <view class="card" wx:if="{{userInfo}}">
    <view class="card-title">📚 今日学习</view>
    <view class="card-content">
      <view class="progress-item">
        <view class="progress-label">今日单词学习</view>
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{todayProgress}}%"></view>
        </view>
        <view class="progress-text">{{todayWordsLearned}}/{{todayWordsTarget}}</view>
      </view>
    </view>
  </view>

  <!-- 推荐单词 -->
  <view class="card">
    <view class="card-title">💡 今日推荐</view>
    <view wx:if="{{recommendedWords.length > 0}}">
      <view class="word-item" wx:for="{{recommendedWords}}" wx:key="id">
        <view class="word-english">{{item.english}}</view>
        <view class="word-chinese">{{item.chinese}}</view>
        <view class="word-pronunciation">{{item.pronunciation}}</view>
      </view>
    </view>
    <view wx:else class="empty">
      <view class="empty-icon">📖</view>
      <view class="empty-text">暂无推荐单词</view>
    </view>
  </view>

  <!-- 登录提示 -->
  <view class="card" wx:if="{{!userInfo}}">
    <view class="card-title">🔐 开始学习</view>
    <view class="card-content">
      <view style="margin-bottom: 30rpx;">登录后可以保存学习进度，解锁更多功能！</view>
      <button class="btn btn-primary btn-full" bindtap="goToLogin">立即登录</button>
      <button class="btn btn-outline btn-full" bindtap="goToRegister">注册账号</button>
    </view>
  </view>
</view>
